{"version":3,"sources":["contexts/CurrentUserContext.jsx","contexts/NewsContext.js","components/SearchForm/SearchForm.js","components/Header/Header.js","images/me.jpg","components/About/About.js","components/NewsCard/NewsCard.js","components/Preloader/Preloader.js","images/svg/no-result.svg","components/NewsCardList/NewsCardList.js","utils/constants.js","components/Main/Main.js","images/svg/github-icon.svg","images/svg/fb-icon.svg","components/Footer/Footer.js","components/SavedNews/SavedNews.js","components/PopupWithForm/PopupWithForm.js","hooks/useValidation.js","components/Login.js","components/Register.js","components/InfoTooltip.js","utils/NewsApi.js","utils/MainApi.js","components/ProtectedRoute.js","components/PreloaderXXL/PreloaderXXL.js","components/App/App.js","index.js"],"names":["CurrentUserContext","React","createContext","NewsContext","SearchForm","props","useState","emptyInput","setEmptyInputErr","className","noValidate","onSubmit","event","preventDefault","searchQuery","trim","setSearchQuery","handleSubmit","type","placeholder","required","value","onChange","target","Header","array","isActive","setIsActive","pathname","useLocation","savedNews","useContext","active","keywords","map","item","keyword","words","Set","quantity","filter","str","length","sort","a","b","keywordsForJSX","join","slice","adjectiveDeclination","aria-label","onClick","to","loggedIn","onSignOut","name","onLogIn","isSubmitted","title","About","src","myPhoto","alt","NewsCard","onBtnClick","article","description","publishedAt","url","urlToImage","source","date","Date","toLocaleString","month","day","year","isSaved","some","i","handleCardButtonClick","infoText","href","rel","Preloader","NewsCardList","cards","currentRow","setCurrentRow","showedCards","useEffect","card","noResultImage","Main","isSearchStarted","keyWord","getFullYear","Footer","githubIcon","facebookIcon","SavedNews","PopupWithForm","closeByEsc","evt","keyCode","onClose","document","addEventListener","removeEventListener","isOpen","method","errorServerMessage","children","useFormWithValidation","setValue","errorMessage","setErrorMessage","isValid","setIsValid","useCallback","validationMessage","validity","valid","Login","emailInput","passwordInput","isButtonSaveActive","e","onLogin","autoComplete","minLength","disabled","redirect","Register","email","password","data","setData","setValidationMessage","Object","values","every","Boolean","handleChange","prevData","onRegister","maxLength","InfoTooltip","api","baseUrl","apiKey","this","_baseUrl","_apiKey","_date","now","toJSON","query","fetch","headers","Authorization","then","res","json","BASE_URL","token","localStorage","getItem","ok","Promise","reject","status","_getHeaders","_processingRes","body","JSON","stringify","_id","ProtectedRoute","isLoading","handleOpenLogin","PreloaderXXL","App","currentUser","setCurrentUser","setName","setLoggedIn","setSearchStarted","setIsSubmitted","setCards","setIsLoading","isOpenLogin","setIsOpenLogin","isOpenRegister","setIsOpenRegister","isOpenPopupInfo","setIsOpenPopupInfo","setErrorServerMessage","setSavedNews","auth","getUserData","userInfo","console","log","handleLogOut","clear","tokenCheck","catch","err","finally","getCurrentUser","getSavedNews","news","reverse","message","localStorageNews","parse","search","articles","setItem","alert","closeAllPopups","handleRedirect","handleBtnClick","saved","find","deleteArticle","handleDeleteArticle","saveArticle","newArticle","Provider","exact","path","loading","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f78cb48c.chunk.js","sourcesContent":["import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\n// сохраненные и найденные\r\nexport const NewsContext = React.createContext();","import React from \"react\";\r\nimport \"./SearchForm.css\";\r\n\r\nfunction SearchForm(props) {\r\n  \r\n  const [emptyInput, setEmptyInputErr] = React.useState(false);\r\n  \r\n  function handleFormSubmit (event) {\r\n    event.preventDefault();\r\n    if (props.searchQuery.trim() === '') {\r\n      props.setSearchQuery('')\r\n      setEmptyInputErr(true)\r\n    } else { props.handleSubmit() \r\n      setEmptyInputErr(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section className=\"header__content section\">\r\n      <h1 className={\"header__title\"}>Что творится в мире?</h1>\r\n      <p className=\"header__caption\">\r\n        Находите самые свежие статьи на любую тему и сохраняйте в своём личном\r\n        кабинете.\r\n      </p>\r\n\r\n      <form className=\"search-form\" noValidate onSubmit={handleFormSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          className=\"search-form__input\"\r\n          placeholder= {emptyInput ? `Не могу искать пустой запрос ¯\\\\_(ツ)_/¯ ` : `Введите тему новости`}\r\n          required\r\n          value={props.searchQuery}\r\n          onChange={(event) => props.setSearchQuery(event.target.value)}\r\n        />\r\n        <label className=\"search-form__label\" />\r\n        <button type=\"submit\" className=\"search-form__search-button\">\r\n          Искать\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default SearchForm;\r\n","import React, { useState } from \"react\";\r\nimport { useLocation, Link } from \"react-router-dom\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\n// import { CurrentUserContext } from '../../contexts/CurrentUserContext';\r\nimport { NewsContext } from \"../../contexts/NewsContext\";\r\nimport \"./Header.css\";\r\n\r\nfunction Header(props) {\r\n  const [isActive, setIsActive] = useState(false);\r\n  const { pathname } = useLocation();\r\n  const { savedNews } = React.useContext(NewsContext);\r\n\r\n  function handleClick() {\r\n    setIsActive(!isActive);\r\n  }\r\n  const active = `${isActive ? \"active \" : \"\"}`;\r\n\r\n  // изменить окончание статей статьи статья\r\n  function title(array) {\r\n    if (array === 1) {\r\n      return \"сохраненная статья\";\r\n      // } else if (array === 0) {\r\n      //     return 'сохраненных статей, ';\r\n    } else if (array >= 5) {\r\n      return \"сохраненных статей\";\r\n    } else if (array > 1 && array < 5) {\r\n      return \"сохраненные статьи\";\r\n    }\r\n  }\r\n\r\n  // Природа, тайга и двум другим\r\n\r\n  const keywords = savedNews.map((item) => item.keyword) || [];\r\n\r\n  const count = (array) => {\r\n    return [\"му\", \"м\", \"и\"][\r\n      array.slice(3).length % 10 === 1 && array.slice(3).length % 100 !== 11\r\n        ? 0\r\n        : array.slice(3).length % 10 >= 2 &&\r\n          array.slice(3).length % 10 <= 4 &&\r\n          (array.slice(3).length % 100 < 10 ||\r\n            array.slice(3).length % 100 >= 20)\r\n        ? 1\r\n        : 2\r\n    ];\r\n  };\r\n\r\n  const adjectiveDeclination = (array) => {\r\n    return [\"другому\", \"другим\"][\r\n      array.slice(3).length % 10 === 1 && array.slice(3).length % 100 !== 11\r\n        ? 0\r\n        : 1\r\n    ];\r\n  };\r\n\r\n  const words = [...new Set(keywords)]\r\n    .map((value) => {\r\n      const item = {};\r\n      item.keyword = value;\r\n      item.quantity = keywords.filter((str) => str === value).length;\r\n      return item;\r\n    })\r\n    .sort((a, b) => b.quantity - a.quantity)\r\n    .map((item) => item.keyword);\r\n\r\n  const keywordsForJSX =\r\n    words.length <= 3\r\n      ? words.join(\", \")\r\n      : `${words.slice(0, 3).join(\", \")} и ${words.slice(3).length}-${count(\r\n          words\r\n        )} ${adjectiveDeclination(words)}`;\r\n\r\n  return (\r\n    <>\r\n      <div className={pathname === \"/\" ? \"background\" : \"\"}>\r\n        <header\r\n          className={\r\n            pathname === \"/\"\r\n              ? \"section header\"\r\n              : `${isActive ? \"section header\" : \"section header header_black\"}`\r\n          }\r\n        >\r\n          <p className=\"header__logo\" >\r\n            NewsExplorer\r\n            <button\r\n              aria-label=\"Мобильное меню\"\r\n              className={\r\n                pathname === \"/\"\r\n                  ? `${active + \"header__burger\"}`\r\n                  : `${active + \"header__burger header__burger_black\"}`\r\n              }\r\n              onClick={handleClick}\r\n            />\r\n          </p>\r\n          <nav className={active + \" header__menu\"}>\r\n            <Link\r\n              to={\"/\"}\r\n              className={\r\n                pathname === \"/\"\r\n                  ? \"navbar__link navbar__link_wunderlined\"\r\n                  : \"navbar__link\"\r\n              }\r\n            >\r\n              Главная\r\n            </Link>\r\n            {props.loggedIn ? (\r\n              <Link\r\n                to={\"/saved-news\"}\r\n                className={\r\n                  pathname === \"/saved-news\"\r\n                    ? \"navbar__link navbar__link_bunderlined\"\r\n                    : \"navbar__link\"\r\n                }\r\n              >\r\n                Сохранённые статьи\r\n              </Link>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n            {props.loggedIn ? (\r\n              <button onClick={props.onSignOut} className=\"navbar__auth-btn\">\r\n                <p className=\"navbar__name\">{props.name}</p>\r\n                <div\r\n                  className={\r\n                    pathname === \"/\"\r\n                      ? \"navbar__logout-image\"\r\n                      : `${\r\n                          active +\r\n                          \"navbar__logout-image navbar__logout-image_black\"\r\n                        }`\r\n                  }\r\n                />\r\n              </button>\r\n            ) : (\r\n              <button onClick={props.onLogIn} className=\"navbar__auth-btn\">\r\n                <p className=\"navbar__auth-name\">Авторизоваться</p>\r\n              </button>\r\n            )}\r\n          </nav>\r\n        </header>\r\n\r\n        {pathname === \"/\" && (\r\n          <SearchForm\r\n            handleSubmit={props.handleSubmit}\r\n            searchQuery={props.searchQuery}\r\n            setSearchQuery={props.setSearchQuery}\r\n            isSubmitted={props.isSubmitted}\r\n          />\r\n        )}\r\n      </div>\r\n\r\n      {pathname === \"/saved-news\" && (\r\n        <section className=\"section saved-news\">\r\n          <p className=\"saved-news__subtitle\">Сохранённые статьи</p>\r\n\r\n          <h2 className=\"saved-news__title\">\r\n            {props.name}, у вас\r\n            {savedNews.length\r\n              ? ` ${savedNews.length} ${title(savedNews.length)} `\r\n              : \" нет сохраненных статей\"}\r\n          </h2>\r\n\r\n          {savedNews.length > 0 && (\r\n            <p className=\"saved-news__keywords\">\r\n              По ключевым словам:{\" \"}\r\n              <span className=\"saved-news__span\">{keywordsForJSX}</span>\r\n            </p>\r\n          )}\r\n        </section>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/me.cb9ea566.jpg\";","import React from 'react';\r\nimport myPhoto from '../../images/me.jpg'\r\nimport './About.css';\r\n// About — презентационный компонент, который показывает информацию об авторе;\r\n\r\nfunction About() {\r\n\r\n  return (\r\n    <div className='section'>\r\n      <section className='about'>\r\n        <img className='about__photo' src={myPhoto} alt='Фото' />\r\n        <div className='about__text'>\r\n            <h2 className='about__heading'>О проекте</h2>\r\n            <p className='about__description'>Добро пожаловать на сайт! Введите в поисковую строку любое ключевое слово, например, \"природа\" или \"Навальный\", а данное веб-приложение найдёт новости по запросу в глобальном поиске за последние 7 дней и отобразит на странице ссылки на ресурсы (до 100 ссылок). Вы можете сохранить понравившиеся новостные карточки в своём личном кабинете.\r\n            </p>\r\n            <p className='about__description'>Мы рады вам!&#9825;\r\n            </p>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default About;","import { React, useContext } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { NewsContext } from \"../../contexts/NewsContext\";\r\nimport \"./NewsCard.css\";\r\n\r\nfunction NewsCard({loggedIn, onBtnClick, article}) {\r\n  const { pathname } = useLocation();\r\n  const { savedNews } = useContext(NewsContext);\r\n\r\n  const {\r\n    keyword,\r\n    title,\r\n    description,\r\n    publishedAt,\r\n    url,\r\n    urlToImage,\r\n    source,\r\n  } = article;\r\n\r\n  // дата\r\n  let date = new Date(publishedAt);\r\n  date =\r\n    date.toLocaleString(\"ru\", {\r\n      month: \"long\",\r\n      day: \"numeric\",\r\n    }) +\r\n    \", \" +\r\n    date.toLocaleString(\"ru\", { year: \"numeric\" });\r\n\r\n  //синяя закладка\r\n  const isSaved = savedNews.some(\r\n      i => i.title === article.title && i.description === article.description\r\n  );\r\n\r\n  function handleCardButtonClick() {\r\n    onBtnClick(article);\r\n  }\r\n\r\n  // всплывающая подсказка\r\n  const infoText = `${\r\n    pathname === \"/\"\r\n      ? \"Войдите, чтобы сохранять статьи\"\r\n      // : isSaved && \"Убрать из сохранённых\"\r\n      : \"Убрать из сохранённых\"\r\n  }`;\r\n\r\n  return (\r\n    <li className=\"card\">\r\n      {pathname === \"/saved-news\" && (\r\n        <div className=\"card__keyword-container\">\r\n          <p className=\"card__keyword\">{keyword}</p>\r\n        </div>\r\n      )}\r\n\r\n      <div\r\n        className={\r\n          pathname === \"/\"\r\n            ? `card__button-container card__button-container_main`\r\n            : `card__button-container card__button-container_saved-news`\r\n        }\r\n      >\r\n        {loggedIn && <div className=\"card__button-info-container\">\r\n          <p className=\"card__button-info\">{infoText}</p>\r\n        </div>}\r\n\r\n        {pathname === \"/\" && !isSaved && (\r\n          <div\r\n            className=\"card__button card__button_add\"\r\n            onClick={handleCardButtonClick}\r\n          ></div>\r\n        )}\r\n\r\n        {pathname === \"/\" && isSaved && (\r\n          <div\r\n            className=\"card__button card__button_added\"\r\n            onClick={handleCardButtonClick}\r\n          ></div>\r\n        )}\r\n\r\n        {pathname !== \"/\" && (\r\n          <div\r\n            className=\"card__button card__button_delete\"\r\n            onClick={handleCardButtonClick}\r\n          ></div>\r\n        )}\r\n      </div>\r\n\r\n      <a\r\n        className=\"card__container\"\r\n        href={url}\r\n        target=\"_blank\"\r\n        rel=\"noreferrer\"\r\n      >\r\n        <img className=\"card__image\" alt={source} src={urlToImage} />\r\n        <div className=\"card__text\">\r\n          <p className=\"card__date\">{date}</p>\r\n          <h2 className=\"card__title\">{title}</h2>\r\n          <p className=\"card__description\">{description}</p>\r\n          <p className=\"card__sourse\">{source}</p>\r\n        </div>\r\n      </a>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default NewsCard;\r\n","import { React } from \"react\";\r\nimport \"./Preloader.css\";\r\n\r\nfunction Preloader() {\r\n  return (\r\n    <>\r\n      <div className=\"preloader\">\r\n        <i className=\"preloader__circle\"></i>\r\n      </div>\r\n      <p className=\"preloader__text\">Идет поиск новостей...</p>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Preloader;\r\n","export default __webpack_public_path__ + \"static/media/no-result.39241ac1.svg\";","import React from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport NewsCard from \"../NewsCard/NewsCard\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport noResultImage from \"../../images/svg/no-result.svg\";\r\nimport \"./NewsCardList.css\";\r\nimport { CARDSINROW } from \"../../utils/constants\";\r\n\r\nfunction NewsCardList({ isSubmitted, onBtnClick, loggedIn, cards }) {\r\n  \r\n  const { pathname } = useLocation();\r\n\r\n  //количество отрисованных карточек\r\n\r\n  const [currentRow, setCurrentRow] = React.useState(0);\r\n  const showedCards = cards.slice(0, (currentRow + 1) * CARDSINROW);\r\n  \r\n  function handleShowMore() {\r\n    setCurrentRow(currentRow + 1);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setCurrentRow(0)\r\n  }, [isSubmitted]) \r\n\r\n  return (\r\n    <div className=\"card-list\">\r\n      {pathname === \"/\" && cards.length>0 && (\r\n        <h2 className=\"card-list__header\">Результаты поиска: {cards.length}</h2>\r\n      )}\r\n\r\n      {isSubmitted && <Preloader />}\r\n\r\n      {cards.length \r\n      ? (\r\n        <>\r\n          <ul className=\"card-list__container\">\r\n            {showedCards.map((card, i) => (\r\n              <NewsCard\r\n                key={i}\r\n                article={card}\r\n                loggedIn={loggedIn}\r\n                onBtnClick={onBtnClick}\r\n              />\r\n            ))}\r\n          </ul>\r\n\r\n          {\r\n          // pathname === \"/\" &&  -сохраненки показывать тоже с кнопкой\r\n          cards.length !== showedCards.length && (\r\n            <button onClick={handleShowMore} className=\"card-list__button\">\r\n              Показать еще\r\n            </button>\r\n          )}\r\n        </>\r\n      ) \r\n      : (\r\n        <>\r\n          {!isSubmitted && pathname === \"/\" && (\r\n            <section className=\"no-result\">\r\n              <img\r\n                className=\"no-result__image\"\r\n                src={noResultImage}\r\n                alt=\"Ничего не найдено\"\r\n              />\r\n              <h3 className=\"no-result__heading\">Ничего не найдено</h3>\r\n              <p className=\"no-result__description\">\r\n                К сожалению, по вашему запросу ничего не найдено.\r\n              </p>\r\n            </section>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewsCardList;\r\n","export const ONEWEEK = 7 * 24 * 60 * 60 * 1000;\r\nexport const CARDSINROW = 6;\r\n","import React, { useContext } from \"react\";\r\nimport {useLocation} from 'react-router-dom';\r\nimport { NewsContext } from \"../../contexts/NewsContext\";\r\nimport About from \"../About/About\";\r\nimport NewsCardList from '../NewsCardList/NewsCardList';\r\nimport './Main.css';\r\n\r\nfunction Main(props) {\r\n\r\n  const { pathname } = useLocation();\r\n  const { cards } = useContext(NewsContext);\r\n\r\n  return (\r\n    <main className='main'>\r\n      {props.isSearchStarted && (\r\n        <NewsCardList\r\n        isSubmitted={props.isSubmitted}\r\n        keyWord= {props.keyWord}\r\n        onBtnClick={props.onBtnClick}\r\n        cards = {cards}\r\n        />\r\n        )\r\n      }\r\n        {pathname === '/' &&\r\n        <About \r\n          loggedIn={props.loggedIn}\r\n        />}\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;","export default __webpack_public_path__ + \"static/media/github-icon.b920c00b.svg\";","export default __webpack_public_path__ + \"static/media/fb-icon.8fbf7749.svg\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport githubIcon from '../../images/svg/github-icon.svg';\r\nimport facebookIcon from '../../images/svg/fb-icon.svg';\r\nimport './Footer.css';\r\n\r\nconst year = new Date().getFullYear()\r\n\r\n// Footer — презентационный компонент, который отрисовывает подвал;\r\nfunction Footer(props) {\r\n\r\n    return (\r\n        <footer className='section footer'>\r\n            <p className='footer__copyright'>&copy; {year} Supersite, Powered by News API</p>\r\n            <nav className='footer__container'>\r\n                <div className='footer__links-container'>\r\n                    <Link to={'/'} className='footer__link'>Главная</Link>\r\n                    <a \r\n                        className='footer__link' \r\n                        href='https://praktikum.yandex.ru/' \r\n                        target='blank'>\r\n                        Яндекс.Практикум\r\n                    </a>\r\n                </div>\r\n\r\n                <div className='footer__social-icons-container'>\r\n                    <a className='footer__social-icon' href='https://github.com/nutkatuz/news-explorer-frontend' target='blank'>\r\n                        <img className='footer__img' src={githubIcon} alt='Иконка Гитхаба' />\r\n                    </a>\r\n                    <a className='footer__social-icon' href='https://www.facebook.com/nutkatuz/' target='blank'>\r\n                        <img className='footer__img' src={facebookIcon} alt='Иконка Фейсбука' />\r\n                    </a>\r\n                </div>\r\n            </nav>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","// Main, SavedNews — компоненты главной страницы и страницы с сохранёнными карточками;\r\nimport React, { useContext } from \"react\";\r\nimport NewsCardList from \"../NewsCardList/NewsCardList\";\r\nimport { NewsContext } from \"../../contexts/NewsContext\";\r\n\r\nconst SavedNews = ({ loggedIn, onBtnClick }) => {\r\n  const { savedNews } = useContext(NewsContext);\r\n  \r\n  return (\r\n      <NewsCardList\r\n        pathname=\"/saved-news\"\r\n        loggedIn={loggedIn}\r\n        onBtnClick={onBtnClick}\r\n        cards={savedNews}\r\n      />\r\n  );\r\n};\r\n\r\nexport default SavedNews;","import React from \"react\";\r\nimport './PopupWithForm.css';\r\n\r\nfunction PopupWithForm(props) {\r\n  \r\n  function closeByEsc(evt) {\r\n    if (evt.keyCode === 27) {\r\n      props.onClose();\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    document.addEventListener(\"keydown\", closeByEsc, false);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", closeByEsc, false);\r\n    };\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <section className={`popup ${props.isOpen && \"popup_state_opened\"}`}>\r\n      <div className=\"popup__overlay\" onClick={props.onClose}>\r\n        {\"\"}\r\n      </div>\r\n      <div className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-icon\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        \r\n        <form\r\n          name={props.name}\r\n          onSubmit={props.onSubmit}\r\n          method=\"POST\"\r\n          className=\"popup__form\"\r\n          noValidate\r\n        >\r\n          <h2 className=\"popup__title\">{props.title}</h2>\r\n          <span className=\"popup__server-error_visible\">\r\n            {props.errorServerMessage}\r\n          </span>\r\n          {props.children}\r\n          {/* окна логина и регистрации */}\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import { useState, useCallback } from \"react\";\r\n//Чёрт побери эту долбанную валидацию полей !!!!!!!!!!!!!!!АААААААААА!!!!!!!!\r\n\r\nexport const useFormWithValidation = () => {\r\n  const [value, setValue] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [isValid, setIsValid] = useState(true);\r\n\r\n  const onChange = useCallback((evt) => {\r\n    setValue(evt.target.value);\r\n    setErrorMessage(evt.target.validationMessage);\r\n    setIsValid(evt.target.validity.valid);\r\n  }, []);\r\n\r\n  return {\r\n    value,\r\n    setValue,\r\n    errorMessage,\r\n    setErrorMessage,\r\n    isValid,\r\n    setIsValid,\r\n    onChange,\r\n  };\r\n};\r\n","import React, { useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm/PopupWithForm\";\r\nimport { useFormWithValidation } from \"../hooks/useValidation\";\r\n\r\nfunction Login(props) {\r\n  // Валидация значений инпутов\r\n\r\n  const emailInput = useFormWithValidation();\r\n  const passwordInput = useFormWithValidation();\r\n  const isButtonSaveActive = !(emailInput.isValid && passwordInput.isValid);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onLogin(emailInput.value, passwordInput.value); // в App\r\n  }\r\n\r\n  // Ресетим форму\r\n\r\n  useEffect(() => {\r\n    if (!props.isOpen) {\r\n      emailInput.setValue(\"\");\r\n      passwordInput.setValue(\"\");\r\n      emailInput.setErrorMessage(\"\");\r\n      passwordInput.setErrorMessage(\"\");\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"popup_auth\"\r\n      title=\"Вход\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      errorServerMessage={props.errorServerMessage}\r\n    >\r\n      <fieldset className=\"popup__form-auth\">\r\n        <label className=\"popup__label\">Email</label>\r\n        <input\r\n          type=\"email\"\r\n          value={emailInput.value}\r\n          onChange={emailInput.onChange}\r\n          name=\"email\"\r\n          required\r\n          // pattern={/^[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}$/i}\r\n          placeholder=\"Введите почту\"\r\n          className=\"popup__input\"\r\n          autoComplete=\"off\"\r\n        />\r\n        <span className=\"popup__error popup__error_visible\">\r\n          {emailInput.errorMessage}\r\n        </span>\r\n\r\n        <label className=\"popup__label\">Пароль</label>\r\n        <input\r\n          type=\"password\"\r\n          value={passwordInput.value}\r\n          onChange={passwordInput.onChange}\r\n          name=\"password\"\r\n          required\r\n          placeholder=\"Введите пароль\"\r\n          minLength=\"8\"\r\n          className=\"popup__input\"\r\n          autoComplete=\"off\"\r\n        />\r\n        <span className=\"popup__error popup__error_visible\">\r\n          {passwordInput.errorMessage}\r\n        </span>\r\n      </fieldset>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        className={`popup__button-save ${\r\n          isButtonSaveActive && \"popup__button-save_disabled\"\r\n        }`}\r\n        disabled={isButtonSaveActive}\r\n      >\r\n        Войти\r\n      </button>\r\n\r\n      <div className=\"popup__redirect\">\r\n        <p className=\"popup__redirect-paragraph\">или</p>\r\n        <button className=\"popup__redirect-link\" onClick={props.redirect}>\r\n          Зарегистрироваться\r\n        </button>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm/PopupWithForm\";\r\n// import { useFormWithValidation } from \"../hooks/useValidation\"; легче всё прописать здесь, чем постоянно обращаться к хуку \r\n\r\nfunction Register(props) {\r\n\r\n  const [data, setData] = useState({ email: \"\", password: \"\", name: \"\" });\r\n\r\n  // Валидация полей\r\n  \r\n  const [validationMessage, setValidationMessage] = useState({ email: \"\", password: \"\", name: \"\" });\r\n  const [isValid, setIsValid] = useState({\r\n    email: false,\r\n    password: false,\r\n    name: false,\r\n  });\r\n  const isButtonSaveActive = !Object.values(isValid).every(Boolean);\r\n\r\n  function handleChange(e) {\r\n    const { name, value } = e.target;\r\n    setData((prevData) => ({\r\n      ...prevData,\r\n      [name]: value,\r\n    }));\r\n    setIsValid({\r\n      ...isValid,\r\n      [name]: e.target.validity.valid,\r\n    });\r\n    setValidationMessage({\r\n      ...validationMessage,\r\n      [name]: e.target.validationMessage,\r\n    });\r\n  }\r\n\r\n  // Кнопка\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onRegister(data.email, data.password, data.name); // в App\r\n  }\r\n\r\n\r\n  // Ресетим форму\r\n\r\n  useEffect(() => {\r\n    if (!props.isOpen) {\r\n      setData({ email: \"\", password: \"\", name: \"\" });\r\n      setValidationMessage({ email: \"\", password: \"\", name: \"\" });\r\n    }\r\n  }, [props.isOpen]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"popup_auth\"\r\n      title=\"Регистрация\"\r\n      isOpen={props.isOpen}\r\n      onClose={props.onClose}\r\n      onSubmit={handleSubmit}\r\n      errorServerMessage={props.errorServerMessage}\r\n    >\r\n      <fieldset className=\"popup__form-auth\">\r\n        <label className=\"popup__label\">Email</label>\r\n        <input\r\n          className=\"popup__input\"\r\n          name=\"email\"\r\n          type=\"email\"\r\n          value={data.email}\r\n          onChange={handleChange}\r\n          required\r\n          minLength=\"6\"\r\n          maxLength=\"20\"\r\n          placeholder=\"Введите почту\"\r\n          autoComplete=\"email\"\r\n        />\r\n        <span className=\"popup__error_visible\">{validationMessage.email}</span>\r\n\r\n        <label className=\"popup__label\">Пароль</label>\r\n        <input\r\n          className=\"popup__input\"\r\n          name=\"password\"\r\n          type=\"password\"\r\n          value={data.password}\r\n          onChange={handleChange}\r\n          required\r\n          minLength=\"8\"\r\n          maxLength=\"20\"\r\n          placeholder=\"Введите пароль\"\r\n          autoComplete=\"password\"\r\n        />\r\n        <span className=\"popup__error_visible\">\r\n          {validationMessage.password}\r\n        </span>\r\n\r\n        <label className=\"popup__label\">Имя</label>\r\n        <input\r\n          className=\"popup__input\"\r\n          name=\"name\"\r\n          type=\"text\"\r\n          value={data.name}\r\n          onChange={handleChange}\r\n          required\r\n          minLength=\"2\"\r\n          maxLength=\"20\"\r\n          placeholder=\"Введите свое имя\"\r\n          autoComplete=\"off\"\r\n        />\r\n        <span className=\"popup__error_visible\">{validationMessage.name}</span>\r\n      </fieldset>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        className={`popup__button-save ${\r\n          isButtonSaveActive && \"popup__button-save_disabled\"\r\n        }`}\r\n        disabled={isButtonSaveActive}\r\n      >\r\n        Зарегистрироваться\r\n      </button>\r\n\r\n      <div className=\"popup__redirect\">\r\n        <p className=\"popup__redirect-paragraph\">или</p>\r\n        <button onClick={props.redirect} className=\"popup__redirect-link\">\r\n          Войти\r\n        </button>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm/PopupWithForm';\r\n\r\nfunction InfoTooltip(props) {    \r\n    return (\r\n        <PopupWithForm name='popup_auth' title='Пользователь успешно зарегистрирован!' isOpen={props.isOpen} onClose={props.onClose} >\r\n            <button className=\"popup__redirect-link\" onClick={props.redirect}>Войти</button>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default InfoTooltip;   \r\n","import { ONEWEEK } from \"./constants\";\r\n\r\nclass Api {\r\n  constructor({ baseUrl, apiKey }) {\r\n    this._baseUrl = baseUrl;\r\n    this._apiKey = apiKey;\r\n    // this._date = new Date(Date.now() - 604800000); Wed Jan 20 2021 02:53:01 GMT+0500 (Екатеринбург, стандартное время) JSON.stringify()\r\n    this._date = new Date(Date.now() - ONEWEEK ).toJSON();\r\n  }\r\n\r\n  search(query) {\r\n    return fetch(`${this._baseUrl}?q=${query}&from=${this._date}&sortBy=publishedAt&pageSize=100&apiKey=${this._apiKey}`, {\r\n      // return fetch(`https://newsapi.org/v2/everything?q=bitcoin&apiKey=5d60850ecced411db40f614cd2e175ae`, {\r\n      headers: {\r\n        Authorization: `Client-ID ${this._apiKey}`\r\n      }\r\n    })\r\n    .then(res => res.json());\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://nomoreparties.co/news/v2/everything',\r\n  // baseUrl: 'https://newsapi.org/v2/everything',\r\n  apiKey: '5d60850ecced411db40f614cd2e175ae'\r\n});\r\n\r\nexport default api;\r\n","export const BASE_URL = process.env.NODE_ENV === 'production'\r\n    ? 'https://api.tesla.students.nomoredomains.icu'\r\n    : 'http://localhost:3000';\r\n\r\nexport const register = (email, password, name) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password, name})\r\n  })\r\n  .then((res) => {\r\n    if (res.ok) {\r\n      console.log(`${res.status} MainApi ok`)\r\n      return res.json();\r\n    }\r\n    console.log(`${res.status} MainApi reject`)\r\n    return Promise.reject(res.status);\r\n  })\r\n  .catch(err => console.log(err))//\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then((response => response.json()))\r\n  .then((data) => {\r\n    if (data.token) {\r\n        localStorage.setItem('jwt', data.token);\r\n        return data;\r\n    }\r\n  })\r\n  .catch(err => console.log(err))\r\n};\r\n\r\n// export const getContent = (token) => {\r\nexport const getUserInfo = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then((res) => {\r\n    if (res.ok) {\r\n      return res.json();\r\n    }\r\n    return Promise.reject(res.status);\r\n  })\r\n  .catch(err => console.log(err))\r\n}\r\n\r\n\r\nclass Api {\r\n  constructor({\r\n    baseUrl,\r\n    headers\r\n  }) {\r\n    this.baseUrl = baseUrl\r\n    this.headers = headers\r\n  }\r\n\r\n  _getHeaders() {\r\n    const token = localStorage.getItem('jwt')\r\n    return {\r\n      ...this.headers,\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  }\r\n\r\n  _processingRes(res) {\r\n    if (res.ok) {\r\n      return res.json()\r\n    } else {\r\n    return Promise.reject(`Ошибка при обращении к серверу: ${res.status}`)\r\n    }\r\n  }\r\n\r\n  getUserData() {//\r\n    return fetch(`${this.baseUrl}/users/me`, {\r\n      headers: this._getHeaders(),\r\n    })\r\n    .then(this._processingRes)\r\n  }\r\n\r\n  getSavedNews() {//\r\n    return fetch(`${this.baseUrl}/articles`, {\r\n      headers: this._getHeaders(),\r\n    })\r\n    .then(this._processingRes)\r\n  }\r\n\r\n  saveArticle(article) {\r\n    const { \r\n      keyword,\r\n      title,\r\n      description,\r\n      publishedAt,\r\n      source,\r\n      url,\r\n      urlToImage,\r\n      } = article;\r\n\r\n    return fetch(`${this.baseUrl}/articles`, {\r\n      method: 'POST',\r\n      headers: this._getHeaders(),\r\n      body: JSON.stringify({\r\n        keyword,\r\n        title,\r\n        description,\r\n        publishedAt,\r\n        source,\r\n        url,\r\n        urlToImage,\r\n      })\r\n    })\r\n    .then(this._processingRes)\r\n  }\r\n\r\n  deleteArticle(_id) {\r\n    return fetch(`${this.baseUrl}/articles/${_id}`, {\r\n      method: 'DELETE',\r\n      headers: this._getHeaders(),\r\n    })\r\n    .then(this._processingRes)\r\n  }\r\n}\r\n\r\nexport const api = new Api({\r\n  baseUrl: BASE_URL,\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n})\r\n","import React from \"react\";\r\nimport { Route, useLocation, Redirect } from \"react-router-dom\";\r\n// HOC особый компонент!\r\n\r\nconst ProtectedRoute = ({ isLoading, loggedIn, handleOpenLogin, ...props }) => {\r\n  \r\n  const { pathname } = useLocation();\r\n\r\n  React.useEffect(() => {\r\n    if (!loggedIn && pathname === \"/saved-news\") {\r\n      handleOpenLogin()\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return isLoading || loggedIn\r\n  ? <Route {...props} /> \r\n  : <Redirect to=\"/\" />;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import { React } from \"react\";\r\nimport \"./Index.css\";\r\n\r\nfunction PreloaderXXL() {\r\n  return (\r\n    <>\r\n      <div className=\"preloaderXXL\">\r\n        <p className=\"preloaderXXL__text\">\r\n          Loading\r\n          <span className=\"dots\">...</span>\r\n        </p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PreloaderXXL;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport { NewsContext } from \"../../contexts/NewsContext\";\r\nimport Header from \"../Header/Header\";\r\nimport Main from \"../Main/Main\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport SavedNews from \"../SavedNews/SavedNews\";\r\nimport Login from \"../Login\";\r\nimport Register from \"../Register\";\r\nimport InfoTooltip from \"../InfoTooltip\";\r\nimport api from \"../../utils/NewsApi\";\r\nimport * as auth from \"../../utils/MainApi\";\r\nimport \"./App.css\";\r\nimport ProtectedRoute from \"../ProtectedRoute\";\r\nimport PreloaderXXL from \"../PreloaderXXL/PreloaderXXL\";\r\n\r\nfunction App() {\r\n  // Хуки состояния at the top\r\n  // Авторизация:\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [name, setName] = useState('Revidovich');\r\n  const [loggedIn, setLoggedIn] = useState(true);\r\n  // Поиск\r\n  const [isSearchStarted, setSearchStarted] = useState(false); // NewsList\r\n  const [isSubmitted, setIsSubmitted] = useState(false); // Preloader\r\n  const [cards, setCards] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  // Модальные окна:\r\n  const [isOpenLogin, setIsOpenLogin] = useState(false);\r\n  const [isOpenRegister, setIsOpenRegister] = useState(false);\r\n  const [isOpenPopupInfo, setIsOpenPopupInfo] = useState(false); // InfoTooltip\r\n  // Ошибки с сервера (валидация)\r\n  const [errorServerMessage, setErrorServerMessage] = useState(\"\");\r\n  // Карточки  //сохранение статеек в лк\r\n  const [savedNews, setSavedNews] = React.useState([]);\r\n\r\n  //Auth\r\n  async function getCurrentUser() {\r\n    try {\r\n      const userInfo = await auth.api.getUserData();\r\n      setCurrentUser(userInfo);\r\n      setName(userInfo.name);\r\n    } catch (err) {\r\n      console.log(`getCurrentUser ${err}`);\r\n    }\r\n  }\r\n\r\n  function handleLogin(email, password) {\r\n    setIsLoading(false);\r\n    // auth\r\n    //   .authorize(email, password)\r\n    //   .then((res) => {\r\n    //     if (res.token) {\r\n    //       localStorage.setItem(\"jwt\", res.token);\r\n    //       // console.log(\"Установил токен \" + res.token);\r\n    //       auth.getUserInfo(res.token);\r\n    //       setLoggedIn(true);\r\n    //       closeAllPopups();\r\n    //       getSavedNews();\r\n    //     }\r\n    //   })\r\n    //   .catch((err) => {\r\n    //     if (err === 400) {\r\n    //       setErrorServerMessage(\"Не передано одно из полей\");\r\n    //     } else if (err === 401) {\r\n    //       setErrorServerMessage(\"Неправильные почта или пароль\");\r\n    //     }\r\n    //     setErrorServerMessage(\"Не удалось осуществить вход O_o\");\r\n    //     setLoggedIn(false);\r\n    //   })\r\n    //   .finally(() => {\r\n    //     setIsLoading(false);\r\n    //   });\r\n  }\r\n\r\n  function handleRegister(email, password, name) {\r\n    setIsLoading(false);\r\n    // auth\r\n    //   .register(email, password, name)\r\n    //   .then((res) => {\r\n    //     console.log(res); // при 400 приходит андеф, иначе мыло с _id\r\n    //     if (res.status !== 400) {\r\n    //       setIsOpenRegister(false);\r\n    //       setIsOpenPopupInfo(true);\r\n    //     }\r\n    //   })\r\n    //   .catch((err) => {\r\n    //     if (err.code === 400) {\r\n    //       setErrorServerMessage(\"Попробуйте ещё раз, \" + err.message);\r\n    //     }\r\n    //     else if (err.code === 409) {\r\n    //       setErrorServerMessage(\"Такой user уже есть, \" + err.message);\r\n    //     }\r\n    //     setErrorServerMessage(\"Регистрация не выполнена. Измените введенные данные\"); // при регистрации не может быть 401\r\n    //     console.log(err)\r\n    //   })\r\n    //   .finally(() => {\r\n    //     setIsLoading(false);\r\n      // });\r\n  }\r\n\r\n  function handleLogOut() {\r\n    setLoggedIn(false);\r\n    setName(null);\r\n    localStorage.clear();\r\n    setSearchStarted(false);\r\n  }\r\n\r\n  function tokenCheck() {\r\n    // для того чтобы не регаться каждый раз\r\n    const token = localStorage.getItem(\"jwt\");\r\n    if (token) {\r\n      setIsLoading(true)\r\n      auth\r\n        .getUserInfo(token)\r\n        .then((res) => {\r\n          //res.json()\r\n          if (res) {\r\n            setLoggedIn(true);\r\n            setName(res.name);\r\n            setIsOpenLogin(false);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"Сервер не узнал токен при tokenCheck: \" + err);\r\n          setLoggedIn(false);\r\n          setName(\"\");\r\n        })\r\n        .finally(()=>(\r\n          setIsLoading(false)\r\n        ));\r\n    } else {\r\n      setIsLoading(false)\r\n      console.log(\"Нет токена при tokenCheck: \" + token);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!loggedIn) {\r\n    tokenCheck();\r\n  }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!loggedIn) return;\r\n    getCurrentUser();\r\n    getSavedNews(); // загрузка сохраненок\r\n  }, [loggedIn]);\r\n\r\n  useEffect(() => {\r\n    const localStorageNews = JSON.parse(localStorage.getItem(\"news\"));\r\n    if (localStorageNews && localStorageNews.length) {\r\n      setCards(localStorageNews);\r\n      setSearchStarted(true);\r\n    }\r\n  }, []);\r\n\r\n  // Поиск\r\n\r\n  useEffect(() => {\r\n    if (isSubmitted) {\r\n      api\r\n        .search(searchQuery)\r\n        .then((data) => {\r\n          const news = data.articles.map((item) => ({\r\n            source: item.source.name,\r\n            title: item.title,\r\n            description: item.description,\r\n            url: item.url,\r\n            urlToImage: item.urlToImage,\r\n            publishedAt: item.publishedAt,\r\n            // author: item.author,\r\n            // content: item.content,\r\n            keyword: searchQuery,\r\n          }));\r\n          setCards(news);\r\n          localStorage.setItem(\"news\", JSON.stringify(news));\r\n          setIsSubmitted(false);\r\n          setSearchQuery(\"\");\r\n          setSearchStarted(true);\r\n        })\r\n        .catch((err) => alert(\"Ошибка поискового запроса\"));\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isSubmitted, searchQuery]);\r\n\r\n  const handleSubmit = () => {\r\n    setCards([]);\r\n    setIsSubmitted(true);\r\n    setSearchStarted(true);\r\n  };\r\n\r\n  // Модальные окна:\r\n\r\n  function closeAllPopups() {\r\n    setIsOpenLogin(false);\r\n    setIsOpenRegister(false);\r\n    setIsOpenPopupInfo(false);\r\n  }\r\n\r\n  // при нажатии на Авторизоваться\r\n\r\n  function handleOpenLogin() {\r\n      setIsOpenLogin(true);\r\n      setErrorServerMessage(\"\");\r\n  }\r\n\r\n  function handleRedirect(evt) {\r\n    evt.preventDefault();\r\n    if (isOpenPopupInfo) {\r\n      setIsOpenPopupInfo(false);\r\n      handleOpenLogin();\r\n    } else {\r\n      if (isOpenLogin) {\r\n        setIsOpenLogin(false);\r\n        setIsOpenRegister(true);\r\n        setErrorServerMessage(\"\");\r\n      } else {\r\n        setIsOpenRegister(false);\r\n        handleOpenLogin();\r\n      }\r\n    }\r\n  }\r\n\r\n  // Карточки  //сохранение статеек в лк, вначале - новые.\r\n\r\n  function getSavedNews() {\r\n    auth.api\r\n      .getSavedNews()\r\n      .then(\r\n        (news) =>\r\n          setSavedNews(news.reverse())\r\n      )\r\n      .catch((err) => setErrorServerMessage(`Ошибка getSavedNews: ${err.message}`));\r\n  }\r\n\r\n  function handleBtnClick(article) {\r\n    if (!loggedIn) return handleOpenLogin();\r\n    const saved = savedNews.find(\r\n      (i) => i.publishedAt === article.publishedAt && i.title === article.title\r\n    );\r\n    if (!saved) {\r\n      auth.api\r\n        .saveArticle(article)\r\n        .then((newArticle) => setSavedNews([newArticle, ...savedNews]))\r\n        .catch((err) => setErrorServerMessage(`Ошибка handleBtnClick: ${err.message}`));\r\n      return;\r\n    }\r\n    handleDeleteArticle(saved);\r\n  }\r\n\r\n  function handleDeleteArticle(article) {\r\n    auth.api\r\n      .deleteArticle(article._id)\r\n      .then(() =>\r\n        setSavedNews(savedNews.filter((item) => item._id !== article._id))\r\n      )\r\n      .catch((err) => setErrorServerMessage(`Ошибка handleDeleteArticle: ${err}`));\r\n  }\r\n\r\n  if (isLoading) {\r\n    return <PreloaderXXL/>\r\n  }\r\n\r\n  return (\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <NewsContext.Provider value={{ cards, savedNews }}>\r\n          <div className=\"app\">\r\n            <Switch>\r\n              <Route exact path=\"/\">\r\n                <Header\r\n                  name={name}\r\n                  loggedIn={loggedIn}\r\n                  onLogIn={handleOpenLogin}\r\n                  onSignOut={handleLogOut}\r\n                  handleSubmit={handleSubmit}\r\n                  searchQuery={searchQuery}\r\n                  setSearchQuery={setSearchQuery}\r\n                  isSubmitted={isSubmitted}\r\n                />\r\n                <Main\r\n                  isSearchStarted={isSearchStarted}\r\n                  loggedIn={loggedIn}\r\n                  isSubmitted={isSubmitted}\r\n                  keyWord={searchQuery}\r\n                  onBtnClick={handleBtnClick}\r\n                />\r\n              </Route>\r\n              <ProtectedRoute\r\n                path=\"/saved-news\"\r\n                loggedIn={loggedIn}\r\n                handleOpenLogin={handleOpenLogin}\r\n                isLoading = {isLoading}\r\n              >\r\n                <Header\r\n                  name={name}\r\n                  loggedIn={loggedIn}\r\n                  onLogIn={handleOpenLogin}\r\n                  onSignOut={handleLogOut}\r\n                  handleSubmit={handleSubmit}\r\n                  searchQuery={searchQuery}\r\n                  setSearchQuery={setSearchQuery}\r\n                  isSubmitted={isSubmitted}\r\n                />\r\n                <SavedNews\r\n                  loggedIn={loggedIn}\r\n                  onBtnClick={handleBtnClick}\r\n                />\r\n              </ProtectedRoute>\r\n            </Switch>\r\n            <Footer />\r\n\r\n            <Login\r\n              isOpen={isOpenLogin}\r\n              onClose={closeAllPopups}\r\n              onLogin={handleLogin}\r\n              loading={isLoading}\r\n              redirect={handleRedirect}\r\n              // setErrorServerMessage={setErrorServerMessage}\r\n              errorServerMessage={errorServerMessage}\r\n            />\r\n            <Register\r\n              isOpen={isOpenRegister}\r\n              onClose={closeAllPopups}\r\n              redirect={handleRedirect}\r\n              onRegister={handleRegister}\r\n              loading={isLoading}\r\n              // setErrorServerMessage={setErrorServerMessage}\r\n              errorServerMessage={errorServerMessage}\r\n            />\r\n            <InfoTooltip\r\n              isOpen={isOpenPopupInfo}\r\n              onClose={closeAllPopups}\r\n              redirect={handleRedirect}\r\n            />\r\n          </div>\r\n        </NewsContext.Provider>\r\n      </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App/App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <HashRouter>\r\n      <App />\r\n    </HashRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}